var term,vscode;function calculateSize(e){return[0|Math.max(60,Math.min(150,e.innerWidth/7)),0|Math.max(10,Math.min(80,(e.innerHeight-40)/12))]}let encoder,lineBuffer="",latestValue=0;async function serialWrite(e){const t=(encoder=new TextEncoder).encode(e);vscode.postMessage({type:"stdin",value:t})}!function(){window.onload=function(){var e=calculateSize(self);(term=new Terminal({cols:e[0],rows:e[1],useStyle:!0,screenKeys:!0,cursorBlink:!1})).open(document.getElementById("terminal")),term.on("data",function(e){serialWrite(e)})},window.addEventListener("resize",function(){var e=calculateSize(self);term.resize(e[0],e[1])});(vscode=acquireVsCodeApi()).getState();window.addEventListener("message",e=>{const t=e.data;switch(t.type){case"connected":t.value?term.write("[31mConnected success ![m\r\n"):term.write("[31m\r\nDisconnected ![m\r\n");break;case"stdout":t.value&&term.write(t.value);break;case"clear":term.reset();break;case"save":vscode.postMessage({type:"save",value:term.exportAll()})}})}();